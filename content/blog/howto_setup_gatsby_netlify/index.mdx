---
title: 基于Gatsby和Netlify搭建博客
path: /howto-setup-gatsby-netlify
description: 介绍如何基于Gatsby和Netlify搭建博客
date: 2021-02-09
---

# 1. 前提条件

操作系统： OSX

已经完成安装:
- node.js: 版本大于12

# 2. 安装

npm install -g cnpm --registry=https://registry.npm.taobao.org
cnpm install -g gatsby-cli

gatsby new <project_name> https://github.com/thomaswangio/gatsby-personal-starter-blog

cd <project_name>
gatsby develop


坑：
1 执行`yarn`安装过程中报错，需要安装以下包：
```
brew install autoconf libtool pkg-config nasm
```

# 3. Github

创建一个Github仓库，将上述`project_name`推到该仓库中

```
git init
git add .
git commit -m "Initial Commit"
git remote add origin <Github仓库地址>
git push -u origin main
```

# 4. Netlify

## 4.1 站点

在Netlify中创建一个站点，完成和上述仓库之间的关联。

## 4.2 自定义域名

在Netlify中创建一个自定义域名，之后通过域名提供商配置一个CNAME记录。

参考： https://docs.netlify.com/domains-https/custom-domains/?_ga=2.202000081.1169481414.1612845247-344740734.1612845247

## 4.3 HTTPS

验证完域名后Netlify会自动部署一个Let's Encrypt证书，你也可以提供自己的证书。


# 参考
1. https://www.gatsbyjs.com/tutorial/blog-netlify-cms-tutorial/